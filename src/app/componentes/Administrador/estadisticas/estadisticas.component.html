<br/>

  <div class="container" >
    <div class="row">
      <div class="col-md-3">
        <div class="d-flex justify-content-center">
          <select [(ngModel)]="chartInicial" style="display: block;">
            <option *ngFor="let chart of chartTypes; let indice=index" [value]="chart.nombreTipo" >{{indice+1}} | {{chart.texto}}</option>
        </select>
        </div>
      <br/>
      <div class="row">
        <div class="col-md-12">
          <div class="d-flex justify-content-center">
            <div class="btn-group-vertical" style="margin-top: 50%;">
    
                <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="btnradio1" data-bs-toggle="modal" data-bs-target="#exampleModal" >Año</label>
              
                <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                <label class="btn btn-outline-primary" for="btnradio2" data-bs-toggle="modal" data-bs-target="#exampleModalMes">Mes</label>
    
                <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
                <label class="btn btn-outline-primary" for="btnradio3" (click)="ventasPorVendedor()">Vendedores</label>
                
                <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off">
                <label class="btn btn-outline-primary" for="btnradio4" (click)="obtenerPromedio()">Promedio</label> 
            
            </div>
          </div>
          
        </div>
      </div>
      <br/>
      
      </div>
    <div class="col-md-9">
      <div style="display: block;">
        <canvas baseChart
          [chartType]="chartInicial"
          [data]="chartData"
          [colors]="chartColors"
          [labels]="chartLabels"
          [options]="chartOptions"
          [plugins]="chartPlugins"
          [legend]="chartLegend">
        </canvas>
      </div>
      <br/>
      <h4 style="text-align: center;" [hidden]="!promedio">Promedio de ventas: {{promedio}}</h4>
      <br/>
    </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title " style="text-align: center; background-color: #70d4d4; color: white;">Marca mas vendida</h5>
            <div class="row">
              <div class="col-md-6">
                <p class="card-text" style="text-align: center;">Nombre: {{marcaVendidaName}}</p>
              </div>
              <div class="col-md-6">  
                <p class="card-text" style="text-align: center;">Ventas hechas: {{marcaVendidaSales}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title" style="text-align: center; background-color: #b32428;color: white;">Marca menos vendida</h5>
            <div class="row">
              <div class="col-md-6">
                <p class="card-text" style="text-align: center;">Nombre: {{menosVendidaName}}</p>
              </div>
              <div class="col-md-6">
                <p class="card-text" style="text-align: center;">Ventas hechas: {{menosVendidaSales}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title" style="text-align: center; background-color: #3b83bd;color: white;">Vendedor con mas ventas</h5>
            <div class="row">
              <div class="col-md-4">
                <p class="card-text" style="text-align: center;">Nombre: {{vendedorMenosName}}</p>
              </div>
              <div class="col-md-4">
                <p class="card-text" style="text-align: center;">Cantidad: {{vendedorMenosCount}}</p>
              </div>
              <div class="col-md-4">
                <p class="card-text" style="text-align: center;">{{vendedorMenosEmail}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title" style="text-align: center; background-color: #00bb2d; color: white;">Vendedor con menos ventas</h5>
            <div class="row">
              <div class="col-md-4">
                <p class="card-text" style="text-align: center;">Nombre: {{vendedorMasName}}</p>
              </div>
              <div class="col-md-4">
                <p class="card-text" style="text-align: center;">Cantidad: {{vendedorMasCount}}</p>
              </div>
              <div class="col-md-4">
                <p class="card-text" style="text-align: center;">{{vendedorMasEmail}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    </div>


<!-- Modal Year-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel" style="text-align: center !important;">Elige una opcion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row"> 
          <div class="col-md-6">
            <button style="width: 100%;" type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" (click)="obtenerVentasYear(null)">AÑO</button>
          </div>
          <div class="col-md-6"> 
            <div class="dropdown">
              <button value="null" style="width: 100%;" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">
                Cantida a ver
              </button>
              <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
                <li><a class="dropdown-item" *ngFor ="let num of chartOption; let indice=index" value="num.valor" (click)="obtenerVentasYear(num.valor)" data-bs-dismiss="modal">{{indice+2}}</a></li>
                
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Mes -->
<div class="modal fade" id="exampleModalMes" tabindex="-1" aria-labelledby="exampleModalMes" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalMes" style="text-align: center !important;">Elige una opcion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row"> 
          <div class="col-md-6">
            <button style="width: 100%;" type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" (click)="obtenerVentasporMes(null)">MES</button>
          </div>
          <div class="col-md-6"> 
            <div class="dropdown">
              <button value="null" style="width: 100%;" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">
                Cantida a ver
              </button>
              <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
                <li><a class="dropdown-item" *ngFor ="let num of chartOptionMes; let indice=index" value="num.valor" (click)="obtenerVentasporMes(num.valor)" data-bs-dismiss="modal">{{indice+2}}</a></li>
                
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


